(()=>{"use strict";var t={615:(t,e,r)=>{r.r(e)},568:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.asc=e.currentDir=e.rootDirecory=void 0,e.setRootDirecory=function(t){e.rootDirecory=t,(0,n.getAndUpdateData)(e.rootDirecory,c)},e.setCurrentDir=function(){e.currentDir=e.rootDirecory},e.changeSort=function(){c===e.asc?(c=o,this.textContent="Сортировка по размеру (убывание)"):(c=e.asc,this.textContent="Сортировка по размеру (возрастание)"),(0,n.getAndUpdateData)(e.currentDir,c)},e.goIntoDirectory=function(t){"/"===e.currentDir&&(e.currentDir=""),e.currentDir=`${e.currentDir}/${t}`,(0,n.getAndUpdateData)(e.currentDir,c)},e.returnToPreviousDirectory=function(){if(e.currentDir===e.rootDirecory)return void alert("Вы достигли корневой директории");let t=e.currentDir.split("/");t.pop(),e.currentDir=t.join("/"),""===e.currentDir&&(e.currentDir="/"),(0,n.getAndUpdateData)(e.currentDir,c)};const n=r(805);e.asc="asc";const o="desc";let c=e.asc},387:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fetchData=function(t,e){return fetch(`/fs?dst=${t}&sort=${e}`).then((t=>t.ok?t.json():(alert("Произошла ошибка при загрузке данных. Пожалуйста, попробуйте позже."),[]))).then((t=>200===t.status?(void 0===n.rootDirecory&&(0,n.setRootDirecory)(t.root_dir),t.data):(alert(`Ошибка запроса: ${t.text_error}`),t.data)))};const n=r(568)},805:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setShowCurrentDirectory=function(t){c=t},e.setPlaceholder=function(t){i=t},e.setContainerContent=function(t){a=t},e.removePlaceholder=d,e.getAndUpdateData=function(t,e){a.style.display="none",i.style.display="block",c.textContent=t,(0,n.fetchData)(t,e).then((t=>{void 0!==o.currentDir?(function(t){const e=document.getElementById("file-table").getElementsByTagName("tbody")[0];e.innerHTML="",t.forEach((t=>{e.appendChild(function(t){const e=document.createElement("tr"),r=document.createElement("td"),n=document.createElement("td"),c=document.createElement("td");return r.textContent=t.file_name,n.textContent=`${t.file_size.toFixed(2)} ${t.file_size_type}`,c.textContent=t.file_type,e.appendChild(r),e.appendChild(n),e.appendChild(c),"Директория"===t.file_type&&(e.classList.add("direct_style"),e.addEventListener("click",(function(){(0,o.goIntoDirectory)(t.file_name)}))),r.classList.add("row_table_style"),n.classList.add("row_table_style"),c.classList.add("row_table_style"),e.classList.add("row_table_style"),e}(t))}))}(t),d()):(0,o.setCurrentDir)()}))};const n=r(387),o=r(568);let c,i,a;function d(){a.style.display="block",i.style.display="none"}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var c=e[n]={exports:{}};return t[n](c,c.exports,r),c.exports}r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{r(615);const t=r(805),e=r(568);document.addEventListener("DOMContentLoaded",(function(){!function(){document.getElementById("sort-button").onclick=e.changeSort,document.getElementById("back-button").onclick=e.returnToPreviousDirectory;const r=document.getElementById("current-directory");(0,t.setShowCurrentDirectory)(r);const n=document.getElementById("container-data");(0,t.setContainerContent)(n);const o=document.getElementById("placeholder");(0,t.setPlaceholder)(o),(0,t.getAndUpdateData)("/home",e.asc)}()}))})()})();